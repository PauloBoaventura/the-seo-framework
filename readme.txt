=== The SEO Framework ===
Contributors: Cybr
Tags: seo, xml sitemap, google search, open graph, schema.org, twitter card, performance
Requires at least: 4.9.0
Tested up to: 5.4
Requires PHP: 5.6.0
Stable tag: 4.0.4
License: GPLv3
License URI: http://www.gnu.org/licenses/gpl-3.0.html

Purely professional, feature-complete, and the ad-free WordPress SEO plugin. Secure, fast, automated, and white-hat SEO. Do less; get better results.

== Description ==

**The only feature-complete SEO plugin that follows the white-hat guidelines and rules imposed by WordPress and search engines.**

Start using proven methods to optimize your website for SEO. Simple, dedicated, extensible, unrestricted, ad-free, and no strings attached.

To top it off, this is the fastest full-featured SEO plugin, and it blends right into your WordPress website, without leaving you in the dark.

It's easy to get started. Activate this plugin, and your site's already protected against prominent SEO attacks. The SEO Framework will also prefill all critical meta tags for you. A real time-saver. Ingenious.

[Migrate](https://theseoframework.com/?p=511) | [Setup](https://theseoframework.com/?p=2428) | [Improve](https://theseoframework.com/?p=2663) | [Extensions](https://theseoframework.com/extensions/) | [API](https://theseoframework.com/?p=82) | [Privacy](https://theseoframework.com/?p=1701#pluginprivacyinformation)

= We poured over 16,000 hours into this plugin. Here are the results: =

* **It is brilliant.**
The SEO Framework is an [expert system](https://en.wikipedia.org/wiki/Expert_system) for SEO. It is the only solution that can intelligently generate critical SEO meta tags in any language by reading your WordPress environment. This automation saves you a considerable amount of time that could be used to write more content or focus on other tasks. It also removes the need for advanced SEO knowledge.

* **It comes preconfigured.**
With The SEO Framework, we provide an excellent starting point for your website by rationally optimizing all your pages. Naturally, you can also tweak it however you like. If you're not an SEO expert, learn what you may wish to optimize in our [Setup guide](https://theseoframework.com/?p=2428).

* **It helps you optimize your metadata.**
We made the only SEO plugin that follows Google's webmaster guidelines to the letter. It took years of research and tweaking to translate this well inside your WordPress interface. Finally, you can freely optimize your pages without having to worry about making critical mistakes.

* **It creates a beautiful overview.**
On your post overview pages, you'll find color-coded guidelines. They suggest you how to improve your pages as you hover over them with your mouse. For example, when your titles are unbranded or when WordPress blocks indexing. Instinctively, touch-and keyboard navigation is also supported.

* **It includes exceptional support.**
We don't outsource our support. We're here for you. Feel free to drop by [our support forums](https://wordpress.org/support/plugin/autodescription/) at any time to ask a question. More than 1400 inquiries have been answered personally, typically within 48 hours in the past five years.

* **It leaves no room for errors.**
We focus on the quality of features you need over the quantity on features you don't. This trait makes this plugin unique, faster, more accurate, nearly bug-free, and more sustainable. The added benefit is that your site is unlikely to get penalized by search engines. We won't steer you into writing unnatural content or allow you to trick search engines.

* **It remains genuine and pure.**
We built The SEO Framework for small to large corporations and enterprises. The interface is entirely accessible and seamlessly integrates within your dashboard. Therefore, interacting with this plugin feels natural. It might feel dull, but your WordPress dashboard shouldn't be a billboard for our branding. We won't ever change this.

* **It improves search presence.**
The SEO Framework ranks your website distinctively by enabling breadcrumbs for Google Search, and by automatically generating titles and descriptions according to Google's guidelines. It also notifies Google, Bing, and all connected search networks automatically of your website's changes with its built-in sitemap.

* **It makes social sharing easy.**
The SEO Framework automatically supports and allows you to further tailor the Open Graph, Facebook, and Twitter Cards protocols. It helps your posts stand out when they're shared on various social networks, including Pinterest, Discord, and Whatsapp.

* **It feels more than accessible.**
We handpicked our color scheme so that people with any medically recognized color-vision deficiency can distinguish the guidelines set by search engines. We also implemented full keyboard-navigation and screen-reader support.

* **It protects you from mistakes.**
The SEO Framework steers you from making significant and common SEO mistakes. It leaves little room for you to mess up because the plugin already does everything SEO for you. For example, it automatically prevents duplicated content mistakes by enforcing strict canonical rules.

* **It follows best-practices and beyond.**
The biggest problems with WordPress plugins are security and compatibility. As part-time security researchers, we focus on making this plugin impenetrable. The SEO Framework also uses WordPress' API whenever possible, making this plugin integrate neatly with every other plugin written with that in mind.

* **It has developers at heart.**
We encourage other developers to enhance and add functionality to this plugin. We've done so ourselves, already, with our [extensions](https://theseoframework.com/extensions/). Check out [our API](https://theseoframework.com/?p=82), and feel free to [contribute](https://tsf.fyi/contributing)!

* **It respects your privacy.**
The SEO Framework sends us no information and does not create cookies. Learn more from our strictly adhered-to [privacy policy](https://theseoframework.com/?p=1701#pluginprivacyinformation).

= Getting started =

* Used another plugin? Easily [migrate your SEO data](https://theseoframework.com/?p=511).
* Need a helping hand getting started? Read our [quick setup guide](https://theseoframework.com/?p=2428).
* Want to improve your pages? Learn how to [optimize your metadata](https://theseoframework.com/?p=2663).

= Do more with extensions =

For additional functionality, check out our free companion plugin [Extension Manager](https://theseoframework.com/?p=2760). It provides numerous free and paid extensions, such as:

* [Local](https://theseoframework.com/?p=2306) lets you set up **important local business information** for search engines to consume.
* [Focus](https://theseoframework.com/?p=2305) guides you through the process of writing targeted content that ranks with **focus keywords**, and for Premium users also their inflections and synonyms.
* [Articles](https://theseoframework.com/?p=2303) **enhances your published posts** by automatically adding important Structured Data.
* [Honeypot](https://theseoframework.com/?p=2300) **catches comment spammers** through four lightweight yet powerful ways.
* [AMP](https://theseoframework.com/?p=2304) **binds The SEO Framework to the AMP plugin** for AMP supported articles and pages.
* [Monitor](https://theseoframework.com/?p=2302) **keeps track of your website's SEO** optimizations and statistics.
* [Incognito](https://theseoframework.com/?p=2301) **hides all development-comments** from The SEO Framework.
* [Origin](https://theseoframework.com/?p=2299) **redirects attachment-page visitors** back to the parent post.
* [Title Fix](https://theseoframework.com/?p=2298) makes sure your **title output is as configured**. Even if your theme is doing it wrong.

Visit our [extensions overview page](https://theseoframework.com/extensions/) for more information.

= Unbranded, free and for the professionals =

The SEO Framework is a uniquely white label plugin that blends seamlessly into your WordPress dashboard. This means that we don't even put the name "The SEO Framework" anywhere within your WordPress interface. No ads, no nags. Nobody has to know about the tools you've used to create your website. Note that we output standardized development-comments distinguishing the plugin output in source code. You can remove these with our free [Incognito extension](https://theseoframework.com/?p=2301).

= Behind the screens =

The SEO Framework works on many things without notifying you, because the best software should save you precious time. Here are a few things it does behind the screens.

* It prevents canonical errors for categories, pages, subdomains, and WordPress Multisite domain mapping.
* It stops SEO attacks that are caused by pagination exploits in WordPress by telling the search engine to look at the existing last page instead.
* It discourages 404 pages and empty categories from being indexed, even when they don't send a 404 response.
* It automatically notifies Google and the Bing network on website updates when sitemaps are enabled.
* It discourages search engines from indexing feeds and the sitemap. This doesn't mean they won't use them, they only won't show them in their search results.
* It directs search engines from the comment pages back to the post holding those comments.

= Compatibility =

**The SEO Framework supports:**

* PHP 5.6 and higher.
* WordPress 4.9 and higher.
* Internationalization through WordPress.org.
* UTF-8 character recognition and rendering, including Emoji and CJK.
* Right to Left (RTL) languages, through its interface and generation.
* Extended color-vision deficiency accessibility.
* Better screen-reader accessibility via ARIA labels and title attributes.
* Full keyboard navigation.
* WordPress Multisite setups, this plugin is in fact built upon one.
* Detection of robots.txt and sitemap.xml files.
* Output of structured data via Schema.org JSON-LD scripts.
* Detection of various other SEO tools to help you switch graciously.
* Translation plugins like WPML, Polylang, WPGlobus, and MultilingualPress.
* Ecommerce plugins, like WooCommerce and EDD.

= Copyright legislation notice =

In a few words: The SEO Framework allows search engines to do what they've been doing for the past 20 years.

When you activate The SEO Framework on any site, you automatically grant rights to content aggregators, among which are Google, Bing, and Yandex, to obtain and use information from the site, including written work, images, audio, and video. You can control these rights via the robots-meta settings brought by this plugin. Your rights and the effectiveness of these settings are subject to the region and language of your website, and the physical or virtual origin of the platform and their potential users through which your website's information is obtained and shared. It is up to the aggregator to honor your rights and the requests brought via The SEO Framework.

If you wish to learn more, please refer to the website of the [EU commission on copyright](https://ec.europa.eu/digital-single-market/en/modernisation-eu-copyright-rules). These rulings may propagate its effects through regions outside the EU.

== Installation ==

= This plugin requires: =

* PHP 5.6 or higher.
* WordPress 4.9 or higher.
* Any modern browser for administration.

= Installation instructions: =

1. Install **The SEO Framework** either via your WordPress dashboard using search or by uploading the files to your server.
1. Either network-activate this plugin or activate it on a single site.
1. That's it! The plugin now optimizes your website for SEO. It also protects your website against SEO attacks.

= This plugin auto-configures its global settings =

However, it would be best if you read up on our [plugin setup guide](https://theseoframework.com/?p=2428) to get the most out of The SEO Framework.

= This plugin auto-configures SEO meta settings =

However, you may want to read up on our [page improvement guide](https://theseoframework.com/?p=2663) to learn how you can optimize your pages.

= Get more SEO power =

Optionally, also install our free [Extension Manager](https://theseoframework.com/?p=2760) plugin for additional SEO solutions.

== Screenshots ==

1. The SEO Framework shows you how your site is performing, at a glance. These are what we call the SEO Bar.
2. Hover over, tap on, or focus any SEO Bar item and it will tell you what's asserted from your environment.
3. The SEO meta box is displayed on all pages. It's everything you need. Here you can see the pixel counters.
4. These SEO settings are shown on the term edit screen. It seamlessly blends into your WordPress interface.
5. The SEO settings page of The SEO Framework. Every setting is explained thoroughly. You're in full control.

== Frequently Asked Questions ==

= Is The SEO Framework free? =

Absolutely! It will stay free as well, without ads or nags!
This plugin is all-inclusive. It's 100% freeware; not crippleware.

= Is there a premium version? =

No. We treat this plugin as a premium plugin already.

However, we do offer many free and paid extensions that help support this free plugin. We provide these via our free [Extension Manager plugin](https://theseoframework.com/?p=2760).

= I have a feature request, a question, or found a bug. =

Please visit [the support forums](https://wordpress.org/support/plugin/autodescription) and kindly tell us about it.

We'll try to get back to you within 72 hours. Typically, we reply within a day.

= I am a developer; how can I help? =

Any input is much appreciated, and everything will be considered.
Please visit the [GitHub project page](https://github.com/sybrew/the-seo-framework) to submit issues or even pull requests.

Learn more [about contributing](https://tsf.fyi/contributing).

= What do the colors tell me? =

We use different colors to convey messages. Red is an error that you must resolve. Yellow is a non-critical warning that you may want to address. Green is good. Blue is informational and situational.

= The sitemap doesn't contain categories, images, et al. =

Not having every single page listed is not an issue. Search engines love crawling WordPress because its structure is consistent and well known.

If a visitor can't find a page, then why would a search engine? Don't rely on your sitemap, but on your content and website's usability.

Check out our [Extension Manager](https://theseoframework.com/?p=2760). It brings extensions, like [Articles](https://theseoframework.com/?p=2303), that fill in the gaps via modern and more robust means.

= The sitemap contains unwanted links. =

The SEO Framework takes all publicly queryable posts, pages, and CPT and puts them in the sitemap.

If you don't want a page in the sitemap, consider enabling the `noindex` option for it. This will also remove the page from search engine result pages.

If the link shouldn't be in the sitemap because it's meant for structural reasons, then inform the plugin or theme author that created them.
You should tell the author to check out the "`public` and `rewrite` post type arguments." The plugin or theme author should know what that means.

In the meantime, you can disable SEO for the unwanted entries via the "General SEO Settings," under "Post Types."

= What do the application/ld+json scripts do? =

The JSON-LD scripts are search engine helpers which tell search engines how to connect and index the site. We do this via the Schema.org standard.

They can tell the search engine if your site contains an internal search engine, which social sites you're connected to, and what page structure you're using. This is also referred to as **structured data**.

= I don't see the breadcrumbs! =

The SEO Framework does not provide the display of breadcrumbs. This is theme-territory. This plugin only annotates them for search engines via a JSON-LD script.

If you wish to display breadcrumbs, then your theme should provide this. Alternatively, there are [other plugins](https://wordpress.org/plugins/search/breadcrumbs/) that help you do this.

== Changelog ==

= 4.0.5 =

TODO this is too advanced, put it on the detailed log, not on w.org:
We accidentally bombarded our website via our private [shortlink service](https://tsf.fyi/links.php), where Google was trying to act smart by following non-anchored example links that didn't exist. When this happens on a large scale, your website can potentially drop in rankings.

TODO this is too advanced, put it on the detailed log, not on w.org:
With that, we found various query endpoints in WordPress which can be malformed to return broken pages. Previously we thought only [pagination was incoherent](https://core.trac.wordpress.org/ticket/37505)--we were wrong. In this update, we mitigated all known Core-reserved and malformable endpoints in WordPress by telling search engines not to index them when abused.

In this update, we [removed support for the "Connected Social Pages" feature](https://github.com/sybrew/the-seo-framework/issues/498). They have never proven to work, and they've been deprecated by Google. You won't be able to fill these fields in on new websites. We also removed the transient caching for JSON-LD scripts, as it wasn't helping anyone.

On the other hand, we added new feed, Discord sharing (oEmbed, theme color), and advanced query protection options. Support for EDD and Polylang has been expanded, and we reintroduced the hyphen option for titles.

A few other quality-of-life changes have been made, as well. Among adding a dozen new filters, streamlining the query handler, and fixing known corner-case issues and bugs.

TODO, retest this issue (since we moved WC compat): https://github.com/sybrew/the-seo-framework/issues/469
TODO the visibility settings no longer have discerning borders. Add a css sub group to add them back?
TODO Gutenberg 7.6 makes the meta box container horrendously. Doesn't reflect well on us.
	- The top-spacing should still be fixed (and it the bottom-spacing is not even with the top now), and we might want to revert gutenberg-specific changes?
	- The sidebar box width is still broken, I thought they had fixed that? https://github.com/WordPress/gutenberg/issues/20206

TODO test oEmbed alterations in our Multisite network (call other post with/without within network, should be 4 tests: with/without, with/with, without/with, without/without).
	* Mind the 1 hr transient cache for proxies (based on unique REST args via get_proxy_item()).

**For everyone:**

* **Added:**
	* Advanced query protection.
		* This protection helps mitigate against a new form of WordPress query exploitation we discovered. This can be invoked either intentionally or accidentally, causing Google to crawl and index thousands of pages that shouldn't exist.
		* The option for this is enabled automatically for sites that install The SEO Framework for the first time. Otherwise, you'll have to tick a box under the Robots settings.
		* When invoked, the meta tag `<meta name="tsf:aqp" value="1" />` will be outputted to indicate it's in effect, after the `noindex,nofollow` attribute is set for robots. This tag will help us spot false positives.
		* Found under "Robots Meta Settings > General".
	* You can now choose to enable or disable oEmbed.
		* This won't remove the generation of the script endpoints, you can still call them. The pages simply won't point to them anymore, which is enough.
		* If you want to completely disable oEmbed, use the [Disable Embeds plugin](https://wordpress.org/plugins/disable-embeds/).
		* Found under "Social Meta Settings > General".
	* You can now specify the theme color.
		* Found under "Social Meta Settings  > General".
	* You can now remove the author name (and author URL) from embeds. This removal is prominently desirable for Discord, but it also affects other sharing services.
		* Found under "Social Meta Settings > oEmbed".
		* TODO, experiences core bug: https://core.trac.wordpress.org/ticket/49543
	* You can specify feed indexing options. This is useful for sites publishing podcasts.
		* Found under "Feed Settings".
	* You can now register your Baidu Search Resource Platform Code (webmasters verification code).
		* Found under "Webmaster Meta Settings".
	* With Polylang, now all sitemaps are flushed whenever you publish or update a post or page.
	* Open Graph support for Easy Digital Downloads (EDD v2.9+) "downloads" attribute for `og:type`.
	* We reintroduced the hyphen, it is now safe from incorrect texturization!
		* Your titles and descriptions will now have the hyphen preserved as entered, making the pixel counter more accurate.
		* However, when more than one sequential hyphen is enter, it will still be texturized by WordPress.
	* Title and description related SEO Bar tests for unsupported transformative syntax. Mainly detecting syntax from Yoast SEO and SEOPress, making your migration to the better plugin more manageable.
		* The test runs after your filters do. So, if you've added transformative syntax filters to the right hook, you shouldn't receive any SEO Bar related errors.
* **Improved:**
	* Subdirectory issue tests for the robots.txt output is no longer cached and is now more accurate.
	* Implemented WordPress 5.4/Gutenberg 9.4 styling guidelines for the post-SEO box editor.
		* Also improved the painting performance by removing a redundant flexbox wrap.
		* N.B. Advanced Custom Fields overrides the metabox handler styling globally. So, that's a thing.
	* Thanks to cleaning up leftover IE11 support, the Post SEO Settings header-navigation items can now have their text collapse vertically, as was initially intended.
		* The collapsing now happens 4px before the text touches the icon (instead of 0px). Much neater.
	* Before fetching images from the content, various tags are stripped. This prevents sharing tracking images from donation forms, for example.
	* `.apng`, `.bmp`, `.ico`, `.cur`, `.svg`, `.tif`, and `.tiff` images are no longer taken from the page content for social sharing.
	* Now, at most 5 images are taken from the content for social sharing.
	* Sanitizing content for description generation is now more accurate and 10 to 1040 times faster. Yip yip yip.
		* But parsing the images more accurately is slower. So that evened it out...
	* Added a warning to the General Post Types settings, since the meaning of these settings wasn't clear enough.
	* Added a notification to the robots Post Type directive settings when a post type is disabled. The corresponding checkbox is also disabled, to strengthen the significance of the conflict.
* **Changed:**
	* The default sitemap colors are no longer dark/green, but WordPress colored (darker/blue), instead.
	* The "maximum image preview size" copyright directive bug has been fixed by Google. Therefore, the restrictions and warnings have been lifted.
	* The robots.txt output is now default when the blog is not public. This follows the behavior in WordPress 5.3.
	* The default title separator is now a hyphen `&#x2d;`, instead of a pipe `|`.
	* When you upgrade from TSF v3.2.4 or below, you'll now maintain the dash (now called hyphen) title-separator option.
* **Deprecated:**
	* The social profile links fields are deprecated. They will be removed from sight when you leave them empty. [Learn more](https://github.com/sybrew/the-seo-framework/issues/498).
* **Removed:**
	* Caching of the JSON-LD scripts and all related options, it wasn't helping anyone, and it'll be redundant when we'll introduce HTML breadcrumbs.
* **Other:**
	* We're maintaining the UTC timestamp workaround brought in [version 4.0.4](https://theseoframework.com/changelog/4-0-4/), because it works as intended all around.
* **Fixed:**
	* The author title is now displayed on author archives without posts. Note that your theme may still not display the name.
	* The correct "Untitled" title is now used in the "No title found"-SEO Bar warning.
	* Global robots settings for post types no longer affect their respective singular-archives (blog, shop).
		* For example, global `noindex` for `post` no longer sets `noindex` for the blog page erroneously.
		* Another example: Global `noindex` for `product` no longer sets it for the shop page erroneously.
	* Empty singular-archives (blog, shop) are no longer perceived as unsupported queries.
	* Empty singular-archives (blog, shop) are no longer marked for `noindex` automatically.
		* We'd rather have this marked as `noindex`, but the SEO Bar, Sitemap, and other APIs are not consistent with this data.
		* We advise you to mark empty blog pages with `noindex`, or otherwise redirect them.
			* TODO add SEO Bar (red) test? Annoying.
	* The "remove blog name" option now has its state reflected in the example output again.
	* Also thanks to cleaning up leftover IE11 support, the Post SEO Settings can now fill the metabox on tablet-sized screens.
	* Feed content and `og:image:alt` can no longer have its last HTML entitity transformed incorrectly.
	* TODO The postbox now works as intended in the sidebar using Gutenberg 9.4/Block-editor WordPress 5.4.
		* Regression in Gutenberg: https://github.com/WordPress/gutenberg/issues/20206
		* N.B. The postbox-handler dropdown icons also shift when collapsing.
	* On WordPress Multisite, when a sub-sites is first accessed after an upgrade via FTP, they should now run the proper environmental testing procedure.

**For translators:**

* **Added:**
	* New translations are now available.
* **Updated:**
	* TODO The POT translation file.

**For developers:**

* **General changes:**
	* It is now easier to add and customize columns for quick-and bulk edit.
	* You can now override the post and term metadata dynamically with filters.
	* Added the `tsf-is-block-editor` class to the postbox class, specifying we're dealing with Gutenberg/Block-Editor.
	* The `wp-util` script is now requested when required, instead of us expecting it to be loaded.
* **Option notes:**
	* Under `THE_SEO_FRAMEWORK_SITE_OPTIONS`:
		* **Added:**
			* `advanced_query_protection`, either `1` or `0`.
			* `index_the_feed`, either `1` or `0`.
			* `baidu_verification`, string.
			* `theme_color`, string, color hex.
			* `oembed_scripts`, either `1` or `0`.
			* `oembed_remove_author`, either `1` or `0`.
		* **Changed:**
			* `title_separator` default value is changed from `pipe` to `hyphen`.
		* **Removed:**
			* `cache_meta_schema`, this used to enable transient caching for Schema.org output.
* **Filter notes:**
	* **Added:**
		* `the_seo_framework_image_details`
		* `the_seo_framework_robots_txt`
		* `the_seo_framework_enable_noindex_comment_pagination`
		* `the_seo_framework_use_archive_prefix`
		* `the_seo_framework_is_singular_archive`
		* `the_seo_framework_is_product`
		* `the_seo_framework_is_product_admin`
		* `the_seo_framework_set_noindex_header`
		* `the_seo_framework_baidusite_output`
		* `the_seo_framework_list_table_data`
		* `the_seo_framework_term_meta`, this replaces the old, unstable, and since deprecated `the_seo_framework_current_term_meta` filter.
		* `the_seo_framework_post_meta`
* **Action notes:**
	* **Added:**
		* `the_seo_framework_before_bulk_edit`
		* `the_seo_framework_after_bulk_edit`
		* `the_seo_framework_before_quick_edit`
		* `the_seo_framework_after_quick_edit`
* **Function notes:**
	* `the_seo_framework_pre_boot_test()` (private) no longer assumes the main blog (WP Multisite) has been tested, although that's very likely when updated via the interface.
* **Method notes:**
	* For object `the_seo_framework()`:
		* **Added:**
			* `is_query_exploited()`
			* `theme_color()`
			* `get_html_output()`
			* `get_post_type_real_ID()`
			* `is_shop()`
			* `is_product()`
			* `is_product_admin()`
			* `s_hyphen()`
			* `has_yoast_syntax()`
			* `baidu_site_output()`
		* **Changed:**
			* `s_title_raw()` now normalizes hyphen entities.
			* `s_description_raw()` now normalizes hyphen entities.
			* `get_separator()`:
				1. Now utilizes the predefined separator list, instead of guessing the output.
				1. The default fallback value is now a hyphen.
			* `robots_txt()` is now marked as private (internal use only). You should not call it.
			* `get_generated_archive_title()`:
				1. Now no longer uses `get_the_author()` to fetch the author's display name, but uses the provided term object instead.
				1. The first parameter now accepts `\WP_User` objects.
			* `use_generated_archive_prefix()`:
				1. Added first parameter `$term`.
				1. Added filter `the_seo_framework_use_archive_prefix`.
			* `robots_meta()`:
				1. Removed copyright directive bug workaround.
				2. Now sets noindex and nofollow when queries are exploited (requires option enabled).
			* `get_robots_meta_by_query()` now bypasses singular-archives for no-posts-query-`noindex` tests.
			* `is_singular_archive()`:
				1. The output is now filterable.
				1. Added caching.
				1. Now has a first parameter `$post`.
			* `is_wc_shop()` now has a first parameter `$post`.
			* `check_the_real_ID()` no longer tries for WooCommerce shop and AnsPress question IDs.
				* WooCommerce's check has been moved to a filter via the compatibility file.
				* AnsPress now handles it via the same WordPress Core methods we use.
			* For these methods, the `$post_type` fallback now uses a real query ID, instead of `$GLOBALS['post']`; mitigating issues with singular-archives (blog, shop).
				* `is_post_type_supported()`
				* `post_type_supports_taxonomies()`
				* `is_post_type_disabled()`
				* `get_hierarchical_taxonomies_as()`
				* `get_robots_meta_by_query()`
				* `is_post_type_robots_set()`
			* `strip_tags_cs()`:
				1. Added the `strip` argument index to the second parameter for clearing leftover tags.
				1. Now also clears `iframe` tags by default.
				1. Now no longer (for example) accidentally takes `link` tags when only `li` tags are set for stripping.
				1. Now performs a separate query for void elements; to prevent regex recursion.
			* `get_image_details()`, its output is now filterable.
			* `s_image_details()` now faults images with filename extensions APNG, BMP, ICO, TIFF, or SVG.
			* `is_blog_public()` can now test for non-sanitized 'blog_public' option states. (probably a fault from WP&lt;3.0)
			* `make_checkbox_array()` you can now supply an extra class for the checkbox.
			* `trim_excerpt()` now decodes the excerpt input, improving accuracy, and so that HTML entities at the end won't be transformed into gibberish.
		* **Removed:**
			* **Tip:** When you call a removed method in `the_seo_framework()` object, it'll return `null`.
			* `get_ld_json_transient_name()`
			* `delete_ld_json_transient()`
		* **Deprecated:**
			* Soft deprecation; no warnings are shown. This will change in a major update. Reason: Expanding ecommerce tool support.
				* `is_wc_shop()`, use `is_shop()` instead.
				* `is_wc_product()`, use `is_product()` instead.
				* `is_wc_product_admin()`, use `is_product_admin()` instead.
	* For object `\The_SEO_Framework\Builders\Images`:
		* **Changed:**
			* `get_content_image_details()`:
				1. Now strips tags before looking for images.
				1. Now only yields at most 5 images.
	* For object `\The_SEO_Framework\Bridges\ListTable`:
		* **Added:**
			* `get_ajax_dispatch_updated_event()`, add (term) or echo (post) this at the end of your AJAX column content to allow binding to the `document.addEventListener( 'tsfLeUpdated', cb );` event in JS.
* **JS notes:**
	* Action `tsfLeUpdated` is now dispatched on list edit events, even when no SEO Bar is showing.
* **Other:**
	* Cleaned up code, like removing more legacy browser syntax.

= 4.0.4 =

WordPress 5.3 has a [bug](https://core.trac.wordpress.org/ticket/48623) where the timezone set in PHP is taken into account when creating permalinks. Since this bug can cause canonical URLs with dates to point to a nonexistent page, we're sending out this patch where TSF sets the timezone to flat UTC for its front-end generation.

The proper fix in WordPress 5.3.1 is due in about three weeks from now, after which we'll consider reverting [these changes](https://theseoframework.com/?p=3390#detailed).

= 4.0.3 =

Google Search has a new bug in their parser, which causes pages to be deindexed unintentionally when a specific combination of robots-settings are used. To work around this bug, we changed how the recently introduced copyright directive settings work.

For more information, see our KB entry on why the [Maximum Image Preview Size setting may now be ignored](https://kb.theseoframework.com/?p=82).

We also fixed three bugs and added [minor improvements](https://theseoframework.com/?p=3379#detailed).

= 4.0.2 =

France recently amended its [copyright laws](https://www.legifrance.gouv.fr/eli/loi/2019/7/24/MICX1902858L/jo/texte). In short, in France, it's now forbidden for content aggregators to display excerpts and previews of your content when no consent is given.

To accommodate those laws, [Google will soon look for new directives](https://france.googleblog.com/2019/09/comment-nous-respectons-le-droit-dauteur.html), and we added new site-wide options to output those. These new options are disabled (unspecified) by default when you update The SEO Framework, but they are enabled (some access) by default when you install The SEO Framework on a new site. Please see [this issue](https://github.com/sybrew/the-seo-framework/issues/480) for our take on this.

In this update, we also fixed a few bugs and added [various improvements](https://theseoframework.com/?p=3344#detailed).

= 4.0.1 =

Thank you for trusting us by upgrading to TSF 4.0.0 earlier! We've received many warm and welcoming responses, and we're very grateful.

Even though we churned 40% of the code, we only confirmed two bugs in that update. This minor update [addresses those bugs](https://theseoframework.com/?p=3308).

Our users reported some admin scripting issues when updating from v3.2.4 to v4.0. These issues are out of our reach, and we provided several solutions [in this post](https://wordpress.org/support/topic/4-0-admin-interface-not-loading-correctly/).

= 4.0.0 - Multiplex =

*It is our choices, Harry, that show what we truly are, far more than our abilities. - [J.K. Rowling](https://www.jkrowling.com/book/harry-potter-chamber-secrets/)*

**Release date**

* September 9th, 2019

**Foreword**

We wrote a [foreword on 4.0](https://theseoframework.com/about/an-introduction-to-a-thousand-changes/). It's a story on our efforts making this update, and why we're exhilarated bringing you this update... finally.

**Release highlights**

* We completely refactored the plugin without losing features. This is the fastest full-featured SEO plugin for WordPress... by far.
* You can now use quick & bulk editing options. They blend perfectly into the interface of WordPress.
* Now, there are more term options, including redirects and canonical URLs.
* Want to enable indexing for just one page? Now you can, with qubit robots options.
* The SEO Bar is completely rewritten. It now lists the issues found so you can easily see what requires attention.
* The sitemap is also new. It lists your pages more intelligently, making it easier for search engines to find your latest updates.
* There's a new and improved API for all the JavaScript, SEO Bar, sitemaps, tooltips, term-and post meta, and more!
* The character and pixel guidelines can now change depending on your site language.
* Full keyboard navigation support is now possible for tooltips. The tooltips now also adjust their size intelligently, so they won't ever fall out of your browser window.
* ...and more than 1000 other noteworthy changes, found in the [detailed log](https://theseoframework.com/?p=3268#detailed).

**Environment upgrade notes**

* PHP 5.4 and PHP 5.5 support has been dropped. Here's why:
	* PHP 5.5 hasn't received updates for [over 3 years](https://www.php.net/eol.php) and using it brings a significant security risk to your website.
	* Using PHP 5.6 lowers our time spent on maintenance, and it increases our productivity; so, we can focus on faster, better, and more useful solutions.
	* WordPress no longer supports PHP versions lower than 5.6 since WordPress 5.2. They, too, finally realize we need to move on.
	* Learn more about [Upgrading PHP](https://wordpress.org/support/update-php/).
* WordPress 4.6 through 4.8 support has been dropped. Here's why:
	* [More than 75% of all WordPress sites](https://wordpress.org/about/stats/) are using version 4.9 or later.
	* The API changes between WordPress versions are massive. We can't support older versions reliably.
	* Although we wanted to move to WordPress 5.0 or later, many users have opted out because of conflicting interests--to put it lightly. Keep your site updated, and use the [Classic Editor plugin](https://wordpress.org/plugins/classic-editor/) if you really can't stand the block editor.

_If, for any reason, you still wish to use PHP 5.4/5.5 and/or WordPress 4.6/4.7/4.8, [The SEO Framework 3.2.4](https://downloads.wordpress.org/plugin/autodescription.3.2.4.zip) still supports them._

**Share your love!**

We hope you'll love this update as much as we do. Please consider sharing it with the world, by giving us [an awesome review](https://wordpress.org/support/plugin/autodescription/reviews/#new-topic-0)! We read every one of them. Thanks!

**Detailed log**

Let's go the extra mile; or [1,609.347 meters](https://theseoframework.com/?p=3268#detailed).

= Full changelog =

* **The full changelog can be found [here](http://theseoframework.com/?cat=2).**

== Upgrade Notice ==

= 4.0.0 =
The v4.0.0 update brings a major upgrade. Make a backup of your database before updating. WordPress v4.9 (or higher) and PHP v5.6 (or higher) are now required. If you use the Extension Manager, update it to v2.1.0 (or higher) before updating this plugin. Downgrading to v3.2.4 is possible, however with the caveat that the homepage title may flip its output order back.

= 3.1.1 =
This is a major upgrade. Make a backup of your database before upgrading. WordPress v4.6 (or greater) and PHP v5.4 (or greater) are now required. If you use the Extension Manager, update it to v1.5.2 (or greater) before upgrading this plugin. Downgrading to v3.0.6 possible.

= 3.0.0 =
A major update. Make a backup of your database before upgrading.

= 2.8.0 =
In the 2.8.0 update, WordPress 4.3 and PHP 5.2 support have been dropped for better code quality.

= 2.7.0 =
The 2.7.0 update is required for the upcoming Extension Manager plugin and includes many improvements.

== Other Notes ==
