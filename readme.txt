=== The SEO Framework ===
Contributors: Cybr
Tags: seo, xml sitemap, google search, open graph, schema.org, twitter card, performance
Requires at least: 5.1.0
Tested up to: 5.4
Requires PHP: 5.6.0
Stable tag: 4.0.7
License: GPLv3
License URI: http://www.gnu.org/licenses/gpl-3.0.html

Purely professional, feature-complete, and the ad-free WordPress SEO plugin. Secure, fast, automated, and white-hat SEO. Do less; get better results.

== Description ==

**The only feature-complete SEO plugin that follows the white-hat guidelines and rules imposed by WordPress and search engines.**

Start using proven methods to optimize your website for SEO. Simple, dedicated, extensible, unrestricted, ad-free, and no strings attached.

To top it off, this is the fastest full-featured SEO plugin, and it blends right into your WordPress website, without leaving you in the dark.

It's easy to get started. Activate this plugin, and your site's already protected against prominent SEO attacks. The SEO Framework will also prefill all critical meta tags for you. A real time-saver. Ingenious.

[Migrate](https://theseoframework.com/?p=511) | [Setup](https://theseoframework.com/?p=2428) | [Improve](https://theseoframework.com/?p=2663) | [Extensions](https://theseoframework.com/extensions/) | [API](https://theseoframework.com/?p=82) | [Support](https://theseoframework.com/?p=3478) | [Privacy](https://theseoframework.com/?p=1701#pluginprivacyinformation)

= We poured over 18,000 hours into this plugin. Here are the results: =

* **It is brilliant.**
The SEO Framework is an [expert system](https://en.wikipedia.org/wiki/Expert_system) for SEO. It is the only solution that can intelligently generate critical SEO meta tags in any language by reading your WordPress environment. This automation saves you a considerable amount of time that could be used to write more content or focus on other tasks. It also removes the need for advanced SEO knowledge.

* **It comes preconfigured.**
With The SEO Framework, we provide an excellent starting point for your website by rationally optimizing all your pages. Naturally, you can also tweak it however you like. If you're not an SEO expert, learn what you may wish to optimize in our [Setup guide](https://theseoframework.com/?p=2428).

* **It helps you optimize your metadata.**
We made the only SEO plugin that follows Google's webmaster guidelines to the letter. It took years of research and tweaking to translate this well inside your WordPress interface. Finally, you can freely optimize your pages without having to worry about making critical mistakes.

* **It creates a beautiful overview.**
On your post overview pages, you'll find color-coded guidelines. They suggest you how to improve your pages as you hover over them with your mouse. For example, when your titles are unbranded or when WordPress blocks indexing. Instinctively, touch-and keyboard navigation is also supported.

* **It includes exceptional support.**
We don't outsource our support. We're here for you. Feel free to drop by [our support forums](https://wordpress.org/support/plugin/autodescription/) at any time to ask a question. More than 1400 inquiries have been answered personally, typically within 48 hours in the past five years.

* **It leaves no room for errors.**
We focus on the quality of features you need over the quantity on features you don't. This trait makes this plugin unique, faster, more accurate, nearly bug-free, and more sustainable. The added benefit is that your site is unlikely to get penalized by search engines. We won't steer you into writing unnatural content or allow you to trick search engines.

* **It remains genuine and pure.**
We built The SEO Framework for small to large corporations and enterprises. The interface is entirely accessible and seamlessly integrates within your dashboard. Therefore, interacting with this plugin feels natural. It might feel dull, but your WordPress dashboard shouldn't be a billboard for our branding. We won't ever change this.

* **It improves search presence.**
The SEO Framework ranks your website distinctively by enabling breadcrumbs for Google Search, and by automatically generating titles and descriptions according to Google's guidelines. It also notifies Google, Bing, and all connected search networks automatically of your website's changes with its built-in sitemap.

* **It makes social sharing easy.**
The SEO Framework automatically supports and allows you to further tailor the Open Graph, Facebook, and Twitter Cards protocols. It helps your posts stand out when they're shared on various social networks, including Pinterest, Discord, and Whatsapp.

* **It feels more than accessible.**
We handpicked our color scheme so that people with any medically recognized color-vision deficiency can distinguish the guidelines set by search engines. We also implemented full keyboard-navigation and screen-reader support.

* **It protects you from mistakes.**
The SEO Framework steers you from making significant and common SEO mistakes. It leaves little room for you to mess up because the plugin already does everything SEO for you. For example, it automatically prevents duplicated content mistakes by enforcing strict canonical rules.

* **It follows best-practices and beyond.**
The biggest problems with WordPress plugins are security and compatibility. As part-time security researchers, we focus on making this plugin impenetrable. The SEO Framework also uses WordPress's API whenever possible, making this plugin integrate neatly with every other plugin written with that in mind.

* **It has developers at heart.**
We encourage other developers to enhance and add functionality to this plugin. We've done so ourselves, already, with our [extensions](https://theseoframework.com/extensions/). Check out [our API](https://theseoframework.com/?p=82), and feel free to [contribute](https://tsf.fyi/contributing)!

* **It respects your privacy.**
The SEO Framework sends us no information and does not create cookies. Learn more from our strictly adhered-to [privacy policy](https://theseoframework.com/?p=1701#pluginprivacyinformation).

= Getting started =

* Used another plugin? Easily [migrate your SEO data](https://theseoframework.com/?p=511).
* Need a helping hand getting started? Read our [quick setup guide](https://theseoframework.com/?p=2428).
* Want to improve your pages? Learn how to [optimize your metadata](https://theseoframework.com/?p=2663).

= Do more with extensions =

For additional functionality, check out our free companion plugin [Extension Manager](https://theseoframework.com/?p=2760). It provides numerous free and paid extensions, such as:

* [Focus](https://theseoframework.com/?p=2305) guides you through the process of writing targeted content that ranks with **focus keywords and synonyms**.
* [Articles](https://theseoframework.com/?p=2303) **enhances your published posts** by automatically adding important Structured Data.
* [Honeypot](https://theseoframework.com/?p=2300) **catches comment spammers** through four lightweight yet powerful ways.
* [Cord](https://theseoframework.com/?p=3404) helps you connect your website to **Google Analytics and Facebook Pixel**.
* [Local](https://theseoframework.com/?p=2306) lets you set up **important local business information** for search engines to consume.
* [AMP](https://theseoframework.com/?p=2304) **binds The SEO Framework to the AMP plugin** for AMP supported articles and pages.
* [Monitor](https://theseoframework.com/?p=2302) **keeps track of your website's SEO** optimizations and statistics.
* [Incognito](https://theseoframework.com/?p=2301) **hides all development-comments** from The SEO Framework.
* [Origin](https://theseoframework.com/?p=2299) **redirects attachment-page visitors** back to the parent post.
* [Title Fix](https://theseoframework.com/?p=2298) makes sure your **title output is as configured**. Even if your theme is doing it wrong.

Visit our [extensions overview page](https://theseoframework.com/extensions/) for more information.

= Unbranded, free and for the professionals =

The SEO Framework is a uniquely white label plugin that blends seamlessly into your WordPress dashboard. This means that we don't even put the name "The SEO Framework" anywhere within your WordPress interface. No ads, no nags. Nobody has to know about the tools you've used to create your website. Note that we output standardized development-comments distinguishing the plugin output in source code. You can remove these with our free [Incognito extension](https://theseoframework.com/?p=2301).

= Behind the screens =

The SEO Framework works on many things without notifying you, because the best software is fast, nimble, responsive, and should save you precious time. Here are a few things it does behind the screens.

* It prevents canonical errors for categories, pages, subdomains, and WordPress Multisite domain mapping.
* It stops SEO attacks that are caused by pagination exploits in WordPress by telling the search engine to look at the existing last page instead.
* It discourages 404 pages and empty categories from being indexed, even when they don't send a 404 response.
* It automatically notifies Google and the Bing network on website updates when sitemaps are enabled.
* It discourages search engines from indexing feeds and the sitemap. This doesn't mean they won't use them, they only won't show them in their search results.
* It directs search engines from the comment pages back to the post storing those comments.

= Compatibility =

**The SEO Framework supports:**

* PHP 5.6 and higher.
* WordPress 5.1 and higher.
* Internationalization through WordPress.org.
* UTF-8 character recognition and rendering, including Emoji and CJKV (Chinese, Japanese, Korean, Vietnamese).
* Right to Left (RTL) languages (Arabic, Hebrew, Farsi, et al.), through its interface and metatag generation.
* Complete color-vision deficiency accessibility thanks to a carefully picked color scheme.
* Full keyboard navigation, so that you can inspect tooltips quickly without ever having to reach for your mouse.
* Full screen-reader accessibility via field anchors, ARIA labels, and title attributes.
* WordPress Multisite setups, this plugin is in fact built upon one.
* Detection and output of robots.txt and sitemap.xml files.
* Output of structured data via Schema.org JSON-LD scripts.
* Altering oEmbed for improved sharing on Discord.
* Detection of various other SEO tools to help you switch graciously.
* Translation plugins like WPML, Polylang, WPGlobus, and MultilingualPress.
* E-commerce plugins, like WooCommerce and Easy Digital Downloads.
* Editing posts and terms via WordPress's native bulk-and-quick-edit interfaces.

= Copyright legislation notice =

In a few words: The SEO Framework allows search engines to do what they've been doing for the past 20 years via its preconfigured copyright settings.

When you activate The SEO Framework on any site, you automatically grant rights to content aggregators, among which are Google, Bing, and Yandex, to obtain and use information from the site, including written work, images, audio, and video. You can control these rights via the robots-meta settings brought by this plugin. Your rights and the effectiveness of these settings are subject to the region and language of your website, and the physical or virtual origin of the platform and their potential users through which your website's information is obtained and shared. It is up to the aggregator to honor your rights and the requests brought via The SEO Framework.

If you wish to learn more, please refer to the website of the [EU commission on copyright](https://ec.europa.eu/digital-single-market/en/modernisation-eu-copyright-rules). These rulings may propagate its effects through regions outside the EU.

== Installation ==

= This plugin requires: =

* PHP 5.6 or higher.
* WordPress 5.1 or higher.
* Any modern browser for administration.

= Installation instructions: =

1. Install **The SEO Framework** either via your WordPress dashboard using search or by uploading the files to your server.
1. Either network-activate this plugin or activate it on a single site.
1. That's it! The plugin now optimizes your website for SEO. It also protects your website against SEO attacks.

= This plugin auto-configures its global settings =

However, it would be best if you read up on our [plugin setup guide](https://theseoframework.com/?p=2428) to get the most out of The SEO Framework.

= This plugin auto-configures SEO meta settings =

However, you may want to read up on our [page improvement guide](https://theseoframework.com/?p=2663) to learn how you can optimize your pages.

= Get more SEO power =

Optionally, also install our free [Extension Manager](https://theseoframework.com/?p=2760) plugin for additional SEO solutions.

== Screenshots ==

1. The SEO Framework shows you how your site is performing, at a glance. These are what we call the SEO Bar.
2. Hover over, tap on, or focus any SEO Bar item and it will tell you what's asserted from your environment.
3. The SEO meta box is displayed on all pages. It's everything you need. Here you can see the pixel counters.
4. These SEO settings are shown on the term edit screen. It seamlessly blends into your WordPress interface.
5. The SEO settings page of The SEO Framework. Every setting is explained thoroughly. You're in full control.

== Frequently Asked Questions ==

= Is The SEO Framework free? =

Absolutely! It will stay free as well, without ads, tracking, bloat, or nags!
This plugin is slim yet all-inclusive. It's 100% freeware; not crippleware.

= Is there a premium version? =

No. We treat this plugin as a premium plugin already.

However, we do offer many free and paid extensions that help support this free plugin. We provide these via our free [Extension Manager plugin](https://theseoframework.com/?p=2760).

= Why is there no analytics, tracking, or 404 monitoring? =

SEO experts that use advanced tools such as Ahrefs, SEMrush, Screaming Frog, and Google Analytics, love using The SEO Framework because it doesn't try do their job haphazardly (like most other SEO plugins do).

To analyze your website correctly, it must be done from the outside. If we load these features on your site, bad robots will cause thousands of false positives that fill up your database with useless information that doesn't apply to search engines at all. We refrain from this, because it won't ever help you anyway.

= I have a feature request, a question, or found a bug. =

Please visit [the support forums](https://wordpress.org/support/plugin/autodescription) and kindly tell us about it.

We'll try to get back to you within 72 hours. Typically, we reply within a day.

= I am a developer; how can I help? =

Any input is much appreciated, and everything will be considered.
Please visit the [GitHub project page](https://github.com/sybrew/the-seo-framework) to submit issues or even pull requests.

Learn more [about contributing](https://tsf.fyi/contributing).

= What do the colors tell me? =

We use different colors to convey messages. Red is an error that you must resolve. Yellow is a non-critical warning that you may want to address. Green is good. Blue is informational and situational. Gray is undefined or unprocessable.

= The sitemap doesn't contain categories, images, et al. =

Not having every single page listed is not an issue. Search engines love crawling WordPress because its structure is consistent and well known.

If a visitor can't find a page, then why would a search engine? Don't rely on your sitemap, but on your content and website's usability.

Check out our [Extension Manager](https://theseoframework.com/?p=2760). It brings extensions, like [Articles](https://theseoframework.com/?p=2303), that fill in the gaps via modern and more robust means.

= The sitemap contains unwanted links. =

The SEO Framework takes all publicly queryable posts, pages, and CPT and puts them in the sitemap.

If you don't want a page in the sitemap, consider enabling the `noindex` option for it. This will also remove the page from search engine result pages.

If the link shouldn't be in the sitemap because it's meant for structural reasons, then inform the plugin or theme author that created them.
You should tell the author to check out the "`public` and `rewrite` post type arguments." The plugin or theme author should know what that means.

In the meantime, you can disable SEO for the unwanted entries via the "General SEO Settings," under "Exclusions."

= What do the application/ld+json scripts do? =

The JSON-LD scripts are search engine helpers which tell search engines how to connect and index the site. We do this via the Schema.org standard.

They can tell the search engine if your site contains an internal search engine, which social sites you're connected to, and what page structure you're using. This is also referred to as **structured data**.

= I don't see the breadcrumbs! =

The SEO Framework does not provide the display of breadcrumbs. This is theme-territory. This plugin only annotates them for search engines via a JSON-LD script.

If you wish to display breadcrumbs, then your theme should provide this. Alternatively, there are [other plugins](https://wordpress.org/plugins/search/breadcrumbs/) that help you do this.

== Changelog ==

= 4.1.0 =

TODO make this in the style of 4.0.0, where we iterate over the changes briefly? It's far easier to consume.

In this update, we bring you quick-edit support for meta titles and descriptions. We also bring you new taxonomy settings. You can now quickly deindex custom taxonomies, or exclude SEO for them entirely.

By popular demand, the description generator can now take content from various well-known page builders that aren't based on shortcodes, like Elementor, Beaver Builder, and Siteorigin's. You'll also find that the description generator is now far more intelligent, where it can now recognize contractions, and other complex punctuation and marks (¡¿Que?! Y’all’didn’t’ve!? 「やった！」).

WordPress 5.5 brings various administrative changes for which we added support; while doing so, we improved the performance and logic of various scripts greatly. For example, the tooltip-arrow's movement now binds to your monitor's refresh rate, instead of your CPU's. Moreover, among many QOL improvements, tapping a tooltip no longer accidentally activates encapsulating labels, only necessary REST-requests are made for primary-term support, animations execute more naturally, and you won't find any more race conditions navigating settings-tabs.

We also added support for WordPress 5.5's new Core Sitemaps: they will work when you disable TSF's, but they won't listen to TSF's post-indexing settings... yet.

Over 200 other QOL improvements were made. We added the gray SEO Bar color, sitemap logo branding, social meta title unbranding, fast nested HTML stripping for generators, improved authorial information support, and more!

Lastly, since plugin auto-updates are coming to WordPress 5.5, we can no longer expect you to invoke an update manually. So, we incorporated persistent notices that can inform you about important changes at a later time. These notices are conditional (user capability, admin screen types, etc.), and expire automatically (after X views, or after X seconds). You can dismiss them via the X-button at the top. Although we believe we were sensible about this implementation, we still hope they're not too annoying!

TODO retest install.

TODO rename s_taxonomies()/s_post_types() to s_associative_array_one_zero/s_array_one_zero? -> s_map_one_zero -> array_map( 's_one_zero' )?

## For everyone
* **Added:**
	* **New taxonomy settings:**
		* You can now exclude SEO support for any registered taxonomy.
			* They are superseded by post type exclusions, however.
		* You can now set `noindex`, `nofollow`, `noarchive` types for any registered taxonomy, instead of just default categories and tags.
			* They are superseded by post type robots, however.
	* **More sitemap features:**
		* You can now specify a custom logo for the sitemap header title--instead of being stuck using the one from Customizer.
		* WordPress Core sitemaps land in WP 5.5, and they're now supported.
			* We don't believe this Core addition is beneficial for TSF users, but we'll explore its integration and are open to suggestions. We do welcome it, since it exposes many faults in other plugins and even in WordPress itself, which we had to fight off tirelessly in support. Until we fully integrate support for the Core sitemaps, this will happen:
				* When you enable TSF's "optimized" sitemaps, the Core sitemaps are disabled.
				* When you disable TSF's sitemaps, akin to using other sitemap plugins, you might get sitemaps that present errors in Google Search Console, because non-indexable posts are included therein too.
				* When you disable TSF's sitemaps, the WordPress Core sitemap link may be added back to the virtual robots.txt output.
	* **A new accessible SEO Bar color:**
		* You may now spot the new "undefined" gray-colored SEO Bar entries.
			* This type is typically used when no processable data can be found by the parser.
			* As before, it's distinguishable from the other types with any color vision deficiency; even with the extremely rare (0.003% of population) achromatopsia.
			* May you prefer, when you enable symbols for warnings--this type will convey `--` (two hyphens).
	* **The smartest description generator, ever:**
		* Thanks to the intelligent content parsing brought in TSF v3.2.4--which has been vastly improved since--content generated by these page builders can now be used reliably for description generation:
			* Elementor.
			* Beaver Builder.
			* Page Builder by SiteOrigin.
	* **New social title features:**
		* You can now choose to remove the site title from autogenerated social titles (Open Graph, Twitter).
			* This option will be enabled by default for new users, but disabled for current users.
			* When this option is disabled, it will continue with its standard evaluation.
	* **New quick-edit features:**
		* You can now set a custom meta title and description for each post and term via WordPress's quick-edit interface.
			* You'll find that counters and other descriptive parts are now visible.
			* Please be mindful that this feature affects performance negatively--but this is primarily caused by a bug in WordPress.
				* See https://core.trac.wordpress.org/ticket/50567.
	* **New persistent notices:**
		* You may now see notices (re)appear that you can manually dismiss. This makes sure you won't miss them, for you might've invoked a notice without loading the admin area directly afterward.
			* The notices are outputted conditionally, and may:
				1. Appear only for some users with certain administrative capabilities, like installing plugins.
				1. Appear only on some pages.
				1. Not appear on some pages, to prevent obstructing your workflow.
				1. Appear only a few times.
				1. Appear only within a certain timeframe--e.g. for one day within invocation.
				1. Listen to your dismissal request--taking a single button press, either via AJAX or a HTML form.
* **Improved:**
	* **Accessibility:**
		* The sitemap stylesheet now outputs specific table header and body tags for improved accessibility.
		* Some sentences have been changed where some users struggled with before. For example, the SEO Bar now conveys what "title branding" means.
		* You can now tap a tooltip-handler inside a label or link without accidentally activating the label, activating a button, or following the link. A second tap will propagate as a regular click.
		* We normalized entity escaping for titles and descriptions, so you should now always see their output as intended on the edit-screens.
		* When (single/double/triple) clicking on a title's prefix or additions hover element, the focus ring of the title input no longer flickers. Instead, it remains solidly focussed.
		* The "Remove the site name?" toggle no longer stretches its label on term edit, preventing accidental clicks.
		* We touched up the title settings' layout so it's easier to understand the repercussion of changes.
	* **AI generators:**
		* **Descriptions:**
			* The description generator can now intelligently strip nested HTML elements (getter).
			* The description generator has gone through another generational leap (parser/renderer):
				* It is now able to discern between punctuation types for stripping leading characters. For example, an opening bracket will no longer be stripped from the start of a sentence, but closing brackets will.
				* It now texturizes the input to see how sentences are build in any language by discerning connector and closing punctuations next to word boundaries. For example, when a closing quote is found between two words (e.g. "we're"), it'll compound those two words as one, instead of believing the apostrophe is a closing punctuation type.
				* It is now able to discern sentence structures that use colons, dashes, or other punctuation, and treats them as connecting.
				* It is now able to discern latin way or annotating questions or exclamations (¿¡qué!?), and will keep their leading punctuation intact.
				* It will now strip trailing colons, dashes, and othe
				* It will now stop counting trailing words when a connector, dash, mark, or ¡¿ are found.
				* It can now strip leading punctuation, even when no final punctuation is found.
	* **Layout:**
		* The SEO Settings metaboxes are now a bit wider; 740px instead of 690px.
			* This prevents the settings-tabs from collapsing for some languages.
		* The (social/logo) image select/change button now updates its text on manual input accordingly.
		* The primary term selector now loads in graciously and no longer bounces the interface on reload; these improvements are especially noticable with slower server connections.
		* When you select or remove an image via the image editor, the input URL field no longer animates--we found this to be annoying, especially since we added other image input field cues (like the on-hover preview card) since its inception.
		* When you remove an image set via the image editor, the removal button now fades out twice as quickly, so it is more in line with the rest of the interface's animation timing.
		* Image previews now have a checkerboard background, so you can easily differentiate a transparent image, like a pro!
	* **Performance:**
		* **Improved browser interaction response times by up to 96% (admin-area):**
			* We optimized the tooltip handler for performance:
				* It no longer renders the tooltip twice on tap/click.
				* It caches the tooltip elements, so it no longer has to perform expensive lookups on movement or change.
				* It now makes waits for the browser animation renderer's invocation on mouse-movement, so it no longer performs expensive calculations as fast as your computer's processor can handle it; instead, it only processes at the speed of your monitor's refresh rate (which is about 60~250 times per second, not 1500 times).
					* At 4.6GHz on AMD's Ryzen Zen 2, we went down to about 4~10% single-CPU-core usage, from 100%, at 60 and 144hz, respectively. Perfectly linear. Perfect code.
			* We optimized the administrative browser scripts for performance, among using faster loops, and loosening our bridles with jQuery for element callers, event loaders, and property adjustments.
		* **Up to 30% quicker browser rendering times (admin-area):**
			* We reduced CPU overhead during the load time of an administrative screen, by removing jQuery's heavy function loader dependency, and using native JS instead.
			* We optimized the Block editor's loading time by removing superfluous REST requests that'd fetch terms for components that didn't support the caller's intention.
			* The (social/logo) image preview icon no longer animates on-load.
		* **Up to 13% faster server response times on the admin-area, and 26% faster on the front-end:**
			* We mitigated autorectifying query-checks by preemptively forwarding more specific queries to each method in the plugin, removing needless processing overhead--especially for the sitemap and administrative areas.
			* We optimized some sanitization callbacks, improving performance by about 4 to 5% per post rendered, without affecting the output.
			* We improved plugin loading time by removing a (another) redundant class from the default loading stack.
			* We also scrutinized the code (again), where we found a few minor points for improvement left after the overhault of v4.0.
				* We couldn't find a reasonable way to make TSF any faster without sacrificing security or removing features. So, this is as fast as we can make it... for now.
* **Changed:**
	* **Post type and taxonomy support:**
		* The General Settings' "Post Types" tabs has been renamed to "Exclusions".
		* We added support for post types and taxonomies that do not have rewrite capabilities.
			* We excluded them in the past because many devs don't know the difference between `rewrite = false` and `public = false` (looking at you too, Automattic). This caused a rich profusion of issues (and users **wasting our time** with support for third-party crap). With WP sitemaps coming (which includes non-rewriteable post types and taxonomies), it'll be a common issue, and everyone can suffer. So, we can be complacent about that and revert our rewrite exemption rule. Moreover, we now allow full control over post type and taxonomy support. So, that's why we'll, henceforth, support all rewritable post types and taxonomies by default, as long as they're publicly queryable.
		* The Formats taxonomy (`post_format`) now has `noindex` applied for all sites installing or upgrading to TSF v4.1. We believe this post type is registered incorrectly, and that it should only be queryable via developers, not visitors.
	* **User edit:**
		* Users with the capability `edit_posts` (Contributor) can now set Facebook and Twitter metadata, instead of users with capability `publish_posts` (Author) only; since contributors can be assigned as authors of posts, as well.
* **Removed:**
	* **Feed support:**
		* The first `<h2>` content is no longer added back in the excerpt of feeds. This didn't work anyway when using Gutenberg. And the code we wanted to implement to fix that (`/<h2.*?>(.*?)<\/h2>[^>]*?>(?=$content)/`) could take half a second per excerpt to resolve (yes, that's slow.).
			* This also fixes a bug, where when the first `<h2>` entry of your post contains content exactly matching in the feed's "transformed-to-excerpt"-content, it will no longer be removed from that excerpt.
	* **Accessibility:**
		* Placeholders on various inputs are no longer prefilled by your server. Your browser can fill these in via our JavaScript scripts (when enabled, which is highly likely).
			* This reduces the load on your server, and removes the need for us to duplicate our work visualizing how the front-end would generate certain areas.
			* We upheld this for so long because WordPress used to be controllable via text-only browsers. Now, since the advent of the Block-Editor, and with accessible dynamic browsers, this is no longer necessary.
* **Fixed:**
	* **Upgrade:**
		* Concurrent upgrades can no longer happen, which, although rare thanks to earlier mitigations, might've caused upgrading your options twice.
	* **Settings:**
		* When you disable a post type, its robots exclusion settings no longer get automatically rendered as checked by accident.
		* You can now store a lone `0` as the (meta, Open Graph, Twitter) post title and description.
			* This was already possible for terms.
			* Don't count on it being useful, or supported throughout the system--you'll find it being transformed to "Untitled" on some parts. You'll also see false-negative reports when using a lone `0` as input.
				* This is an intermediate step towards perfect consistency.
				* We've considered making it seamless, but since this is a bad title/description, it's not worth the tradeoff for smelly, unmaintainable code.
				* See PHPdoc @ `the_seo_framework()->set_and_strlen()`.
		* You can no longer reset the global SEO settings without confirming it by clicking the button before all browser assets are loaded.
	* **UI bugs and annoyances (that don't affect the front-end output of the plugin):**
		* You can no longer empty text fields from TSF via Edge's `ms-clear` button (X at the side of the input field), since it doesn't invoke the proper browser events we rely upon.
		* Settings and post-edit tabs' contents can no longer stagger when you hold an arrow key switching tabs. So, they now always behave predictably.
		* Settings and post-edit tabs' containers now have their height locked before switching tabs' content, preventing unnecessary double layout shifting.
		* Settings tab's contents now correctly match the active tab when navigating back to the settings page (again).
		* Prevented unnecessary layout shift on the settings page of notifications from other sources (plugins, themes, core).
		* When clicking on the character counter subsequently, the AJAX loader will now reappear correctly.
		* Addressed an issue where when you double-clicked on the title prefix on an RTL-based site that causes selection of the title to fail.
		* The title input fields no longer trim the visual outline on input-focus when using WP 5.3 or later.
		* The Homepage SEO Settings question mark is now alligned correctly when using WP 5.5 or later.
		* On the Block editor, if you had more than 2 categories selected and have then deselected all categories, and then register a new category (and keep it selected), and then select another category, the newest category will now have its name correctly populated in the primary term selector. Yup.
		* On the Block editor, term names are no longer double-escaped inside the primary term selector.
		* When using WP 5.5 or later, if you hit the new post-meta-box order buttons, the tab labels will now also automatically try to refit themselves (by hiding their text when necessary).
			* We made sure that any future change will automatically be supported, thanks to the use of resize observers. There's an edge-case for Edge, which still relies on our archaic implementation, however.
		* You can now use keyboard navigation to select a title separator.
		* jQuery 3.5.1 is now supported--we faced issues with the load sequence using Firefox and Edge.
	* **Post type and taxonomy support:**
		* When a post type or taxonomy isn't publicly queryable, TSF won't consider it as a supported anymore.
		* You can no longer select the primary term for taxonomies that aren't supported (not publicly viewable or otherwise disabled via the TSF interface).

## For translators
* **Added:**
	* New sentences have been added.
* **Changed:**
	* We're now calling "blog name" "site title" throughout the plugin.
		* WordPress shows the "Site Title" at "General Settings", but stores it in the database as "blogname". We can't expect the user to be aware of this discrepancy.
* **Updated:**
	* TODO POT translation file.
	* As always, various sentences have been updated for clarity.
* **Improved:**
	* Removed passive voice from some sentences.

## For developers
* **Database note:** This plugin now uses TSF database version `4103`.
* **Constant notes:**
	* **Added:**
		* `THE_SEO_FRAMEWORK_SETTINGS_CAP`, user-definable.
			* Use this instead of filter `the_seo_framework_settings_capability`; the filter is marked for deprecation.
		* `THE_SEO_FRAMEWORK_AUTHOR_INFO_CAP`, user-definable.
	* **Removed:**
		* `THE_SEO_FRAMEWORK_NETWORK_OPTIONS`, was unused.
* **Option notes:**
	* For PHP constant `THE_SEO_FRAMEWORK_NETWORK_OPTIONS` (equals db index `autodescription-network-settings`):
		* **Removed.** That's it.
	* For PHP constant `THE_SEO_FRAMEWORK_SITE_OPTIONS` (equals db index `autodescription-site-settings`):
		* **Added:**
			* `disabled_taxonomies`, array.
			* `noindex_taxonomies`, array. Readable via `the_seo_framework()->get_option( the_seo_framework()->get_robots_taxonomy_option_id( 'noindex' ) );`.
			* `nofollow_taxonomies`, array. Readable via `the_seo_framework()->get_option( the_seo_framework()->get_robots_taxonomy_option_id( 'nofollow' ) );`.
			* `noarchive_taxonomies`, array. Readable via `the_seo_framework()->get_option( the_seo_framework()->get_robots_taxonomy_option_id( 'noarchive' ) );`.
			* `sitemap_logo_url`, string.
			* `sitemap_logo_id`, int.
			* `social_title_rem_additions`, int, 1 or 0.
		* **Removed:**
			* Note: Downgrade compatibility will be maintained for the next year, or two major updates; whichever comes first. This means that these options are updated by the plugin according to the latest inputted values, but shouldn't be used or written to elsewhere.
			* `category_noindex`, now is `$options['noindex_taxonomies']['category']`.
			* `category_nofollow`, now is `$options['nofollow_taxonomies']['category']`.
			* `category_noarchive`, now is `$options['noarchive_taxonomies']['category']`.
			* `tag_noindex`, now is `$options['noindex_taxonomies']['post_tag']`.
			* `tag_nofollow`, now is `$options['nofollow_taxonomies']['post_tag']`.
			* `tag_noarchive`, now is `$options['noarchive_taxonomies']['post_tag']`.
		* **Other:**
			* `$options['noindex_taxonomies']['post_format']` is now enabled for all new users by default.
		* **Fixed:**
			* `disabled_post_types` should now have its warned and default state reflected in the admin UI when you filter those in.
* **Method notes:**
	* For object `the_seo_framework()`:
		* **Added:**
			* `get_public_taxonomies()`
			* `get_forced_supported_taxonomies()`
			* `s_disabled_taxonomies()`
			* `s_taxonomies()`
			* `get_robots_taxonomy_option_id()`
			* `detect_non_html_page_builder()`
			* `uses_non_html_page_builder()`
			* `output_js_title_data()`
			* `output_js_description_data()`
			* `get_home_title_additions()`
			* `prepend_tax_label_prefix()`
			* `get_latest_category_id()`
		* **Changed:**
			* `is_taxonomy_public()` now also returns public taxonomies without rewrite capabilities.
			* `get_hierarchical_post_types()` now also returns post types without rewrite capabilities.
			* `get_nonhierarchical_post_types()` now also returns post types without rewrite capabilities.
			* `trim_excerpt()`:
				1. Now texturizes the excerpt input, improving accuracy with included closing & final punctuation support.
				1. Now performs even faster queries, in most situations. (~0.2ms total (bad case) @ PHP 7.3/PCRE 11).
				1. Now recognizes connector and final punctuations for preliminary sentence bounding.
				1. Leading punctuation now excludes symbols, special annotations, opening brackets and quotes, and marks used in some latin languages like ¡¿.
				1. Is now able to always strip leading punctuation.
				1. It will now strip leading colon characters.
				1. It will now stop counting trailing words towards new sentences when a connector, dash, mark, or ¡¿ is found.
				1. Now returns encoded entities once more. So that the return value can be treated the same as anything else revolving around descriptions--preventing double transcoding like `&amp;amp;amp; > &amp;amp; > &amp;` instead of `&amp;amp;`.
			* `get_title()` now has a third `$social` parameter.
			* `get_custom_field_title()` now has a third `$social` parameter.
			* `get_generated_title()` now has a third `$social` parameter.
			* `get_generated_open_graph_title()` now has a third `$social` parameter.
			* `use_title_branding()` now has a second `$social` parameter.
			* `output_js_title_elements` now only outputs a legacy reference and is marked for deprecation.
			* `output_js_description_elements` now only outputs a legacy reference and is marked for deprecation.
			* `output_character_counter_wrap` no longer marks up the counter with the `description` HTML class.
			* `s_excerpt` moved `figcaption`, `figure`, `footer`, and `tfoot`, from `space` to `clear`, meaning that it'll clear those elements, instead of adding spaces around them.
			* `strip_tags_cs` now detects nested elements and preserves that content correctly--as if we'd pass through scrupulously beyond infinity.
			* `get_hierarchical_taxonomies_as()` now filters taxonomies more graciously--expecting broken taxonomies returned in the filter.
			* `get_paged_urls()` no longer memoizes its return value.
			* `s_singleline()`:
				1. Made this method about 25~92% faster (more replacements = more faster). 73% slower on empty strings (negligible).
				1. Now also strips form-feed and vertical whitespace characters--might they appear in the wild.
			* `s_knowledge_type()` can no longer fall back to its previous value--instead, it will fall back to a generic value.
		* **Removed:**
			* `rss_uses_excerpt()`, use `\get_option( 'rss_use_excerpt' )` instead.
			* `the_content_feed()`, with no alternative available.
			* `get_site_option()`, with no alternative available. Was never used.
			* `do_dismissible_sticky_notice()`, with no alternative available. Was never used.
			* `generate_dismissible_sticky_notice()`. Was never used. Use `register_dismissible_persistent_notice()` instead.
			* `notices`, was marked private.
			* `handle_update_post`, relied on security only valid within the plugin. It still exists, but can no longer be accessed directly via the API.
			* `verify_seo_settings_nonce`, relied on security only valid within the plugin. It still exists, but can no longer be accessed directly via the API.
		* **Deprecated:**
			* `is_post_type_page()`, with no alternative available.
			* `is_taxonomy_public()`, use `the_seo_framework()->is_taxonomy_supported()` instead.
			* `the_seo_framework_get_option()`. Use `the_seo_framework()->get_option()` instead. Was never advertised to be used.
			* `get_home_page_tagline()`, use the aptly named `get_home_title_additions()` instead.
			* `permalink_structure()`, use `get_option( 'permalink_structure' );` instead.
	* For object `\The_SEO_Framework\Bridges\Feed` (new!):
		* **Added:**
			* (static) `get_instance()`
			* (static) `prepare()`
	* For object `\The_SEO_Framework\Bridges\Ping`:
		* **Changed:**
			* `engage_pinging_cron()` now returns whether its engagement was successful.
	* For object `\The_SEO_Framework\Bridges\Scripts`:
		* **Changed:**
			* `get_list_edit_scripts()`, now depends on title and description scripts.
* **Object notes:**
	* For object `\The_SEO_Framework\Interpreters\SeoBar`:
		* **Added:** constant `STATE_UNDEFINED`; equals `0b0000` (bitwise naught); creates the gray undefined SEO Bar entry.
	* Object `\The_SEO_Framework\Bridges\Feed` is new.
	* For object `the_seo_framework()`:
		* **Changed:**
			* It no longer loads `\The_SEO_Framework\Feed` class.
				* This class has been removed.
* **Filter notes:**
	* **Added:**
		* `the_seo_framework_forced_supported_taxonomies`, used to adjust an array of forced supported taxonomies, so no settings can be adjusted for them.
		* `the_seo_framework_taxonomy_disabled`, used to overwrite taxonomy disabled state.
		* `the_seo_framework_shortcode_based_page_builder_active`, used to relay an active (conflicting) page builder that renders content dynamically is active.
		* `the_seo_framework_detect_non_html_page_builder`, used to relay an active (conflicting) page builder is used for the current page.
		* `the_seo_framework_sitemap_items`, used to filter all valid post IDs for the sitemap.
	* **Changed:**
		* `the_seo_framework_general_settings_tabs`'s `posttypes` entry has been renamed to `exclusions`.
		* `the_seo_framework_use_title_branding` now has a third parameter, `$social`.
		* `the_seo_framework_list_table_data` now has `doctitle` and `description` indexes in its first parameter.
	* **Removed:**
		* `the_seo_framework_network_settings`, was unused.
* **JS notes:**
	* **Method notes:**
		* **Added:**
			* `tsfDescription.getInputElement()`
			* `tsfDescription.getStateOf()`
			* `tsfDescription.updateStateOf()`
			* `tsfDescription.updateStateAll()`
			* `tsfTitle.getInputElement()`
			* `tsfTitle.getStateOf()`
			* `tsfTitle.updateStateOf()`
			* `tsfTitle.updateStateAll()`
		* **Changed:**
			* `tsfDescription` and `tsfTitle` now handle legacy input elements (discoverable via `HTMLElement.dataset.hasLegacy`) for the unforeseeable future.
				* You should update to the newer input elements data handlers if you want to handle their counters and hover elements. This allows for multiple meta title and meta descriptions inputs per page.
					* See `the_seo_framework()` methods `output_js_title_data()` and `output_description_title_data()`.
			* `tsfSocial.initTitleInputs` now expects `refNa` to be registered in its first parameter object.
		* **Deprecated:**
			* `tsfDescription.getState()`, use `tsfDescription.getStateOf()` instead.
			* `tsfDescription.updateState()`, use `tsfDescription.updateStateOf()` instead.
			* `tsfTitle.getState()`, use `tsfTitle.getStateOf()` instead.
			* `tsfTitle.updateState()`, use `tsfTitle.updateStateOf()` instead.
	* **Event notes:**
		* **Added:**
			* `window.tsf-post-type-support-changed`, used to test for post type change states.
			* `window.tsf-taxonomy-support-changed`, used to test for taxonomy change states. Be warned, it's tricky.
		* **Changed:**
			* `window.tsf-tooltip-reset` now debounces by 25ms, so now you can call it in a loop without worrying about impacting performance.
			* `window.tsf-flex-resize` may now contain `event.detail.target` data--depicting which flex wrapper is triggered--it should, for now, just be the original one.
	* **Object notes:**
		* **Added:**
			* `tsfTitle.untitledTitle`
			* `tsfTitle.privatePrefix`
			* `tsfTitle.protectedPrefix`
			* `tsfTitleL10n` (`=== window.tsfTitle.l10n`) now has the following indexes available:
				* `i18n.privateTitle`
				* `i18n.protectedTitle`
				* `params.stripTitleTags`
		* **Removed:**
			* `tsfSettingsL10n` (`=== window.tsfSettings.l10n`) no longer has the following indexes available:
				* `i18n`, which had:
					* `confirmReset`
					* `privateTitle`
					* `protectedTitle`
				* `params.refTitleLocked`
				* `params.refDescriptionLocked`
			* `tsfTitleL10n` (`=== window.tsfTitle.l10n`) no longer has the following indexes available:
				* `states.useTagline`
				* `states.useSocialTagline`
				* `states.additionPlacement`
				* `states.additionValue`
				* `states.defaultTitle`
			* `tsfDescriptionL10n` (`=== window.tsfDescription.l10n`) is no longer available.
			* `tsfPostL10n` (`=== window.tsfPost.l10n`) no longer has the following indexes available:
				* `params.stripTitleTags`
			* `tsfTermL10n` (`=== window.tsfTerm.l10n`) no longer has the following indexes available:
				* `params.stripTitleTags`
				* `params.prefixesForcedDisabled`
		* **Deprecated:**
			* `tsfTitle.states.useTagline`, use `tsfTitle.states.addAdditions` instead. Applies to `tsfTitle.getStateOf()` and `tsfTitle.updateStateOf()`.
	* **Template notes:**
		* **Added:**
			* `wp.template( 'tsf-disabled-taxonomy-help' )` is now available on the settings page.
			* `wp.template( 'tsf-disabled-taxonomy-from-pt-help' )` is now available on the settings page.
			* `wp.template( 'tsf-disabled-title-additions-help' )` is now available on the settings page.
* **Fixed:**
	* Closed some unclosed HTML elements.
	* Moved some illegal HTML element placements, so they're now legal.
	* The Block editor's primary term selector no longer binds to unsupported taxonomies.
		* This was graciously handled before, since PHP never forwarded data of unsupported taxonomies.
		* This also saves a HTTP request per unsupported taxonomy, where we would otherwise get its listed terms.

**Leave a review!**

We hope you'll love this update as much as we do. Please consider sharing it with the world, by giving us [an awesome review](https://wordpress.org/support/plugin/autodescription/reviews/#new-topic-0)! We read every one of them. Thank you!

**Detailed log**

Let's go the extra mile; or [1,609.347 meters](https://theseoframework.com/?p= TODO #detailed).

= Full changelog =

* **The full changelog can be found [here](http://theseoframework.com/?cat=2).**

== Upgrade Notice ==

= 4.1.0 =
The v4.1.0 update brings a major upgrade. Make a backup of your database before updating. WordPress v5.1 (or higher) is now required. Downgrading to v4.0.7 is possible without repercussions.

= 4.0.0 =
The v4.0.0 update brings a major upgrade. Make a backup of your database before updating. WordPress v4.9 (or higher) and PHP v5.6 (or higher) are now required. If you use the Extension Manager, update it to v2.1.0 (or higher) before updating this plugin. Downgrading to v3.2.4 is possible, however with the caveat that the homepage title may flip its output order back.

= 3.1.1 =
This is a major upgrade. Make a backup of your database before upgrading. WordPress v4.6 (or greater) and PHP v5.4 (or greater) are now required. If you use the Extension Manager, update it to v1.5.2 (or greater) before upgrading this plugin. Downgrading to v3.0.6 possible.

= 3.0.0 =
A major update. Make a backup of your database before upgrading.

= 2.8.0 =
In the 2.8.0 update, WordPress 4.3 and PHP 5.2 support have been dropped for better code quality.

= 2.7.0 =
The 2.7.0 update is required for the upcoming Extension Manager plugin and includes many improvements.

== Other Notes ==
