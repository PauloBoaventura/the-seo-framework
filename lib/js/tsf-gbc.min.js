'use strict';window.tsfGBC=function(a){function b(a){return h.getEditedPostAttribute(a)}function c(){j={title:b("title"),link:h.getPermalink(),content:b("content"),excerpt:b("excerpt"),visibility:h.getEditedPostVisibility()}}function d(a){return j[a]||null}function e(){let a=j;c(),a.title!==j.title&&l("title"),a.link!==j.link&&l("link"),a.content!==j.content&&l("content"),a.excerpt!==j.excerpt&&l("excerpt"),a.visibility!==j.visibility&&l("visibility")}function f(){!m&&(h.isSavingPost()||h.isAutosavingPost())?m=!0:m&&(h.didPostSaveRequestSucceed()?g():m=!1)}function g(){m=!1,h.isPostSavingLocked()?(n=!0,i(g,500)):!n&&a(document).trigger("tsf-gutenberg-saved-document")}const h=wp.data.select("core/editor"),{debounce:i}=lodash;let j,k="undefined"!=typeof tsfGBCL10n&&tsfGBCL10n;const l=b=>{a(document).trigger("tsf-updated-gutenberg-"+b,[d(b)])};let m=!1,n=!1;const o=()=>{wp.data.subscribe(i(e,300)),wp.data.subscribe(f),setTimeout(()=>{c(),l("title"),l("link"),l("content"),l("excerpt"),l("visibility"),a(document).trigger("tsf-subscribed-to-gutenberg")})};return a.extend({load:()=>{a(document.body).on("tsf-onload",o)}},{triggerUpdate:l})}(jQuery),jQuery(window.tsfGBC.load);
