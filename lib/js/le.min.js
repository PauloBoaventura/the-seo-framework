'use strict';window.tsfLe=function(a){const b="undefined"!=typeof tsfLeL10n&&tsfLeL10n;let c;const d=()=>{clearTimeout(c),c=setTimeout(()=>{document.dispatchEvent(new Event("tsfLeUpdated"))},50)},e=()=>{tsfTT&&tsfTT.triggerReset()},f=a=>{let b,c=document.getElementById("tsfLeData["+a+"]");try{b=JSON.parse(c.dataset.le)||void 0}catch(a){}if(!b)return;let d;for(let c in b)if(d=document.getElementById("autodescription-quick[%s]".replace("%s",c)),d)if(b[c].isSelect){tsf.selectByValue(d,b[c].value);let a=d.querySelector("[value=\"0\"]");a&&(a.innerHTML=a.innerHTML.replace("%s",tsf.decodeEntities(b[c].default)))}else d.value=tsf.decodeEntities(b[c].value)},g=a=>f(a),h=a=>{let b=(a.originalEvent||a).target,c=b.dataset.tsfTitleId,d=tsfTitle.getStateFor(c,"prefixValue"),e="",f="public";switch(f="keep_private"===b.name?b.checked?"private":"public":b.value&&b.value.length?"password":"public",f){case"password":e=tsfTitle.protectedPrefix;break;case"private":e=tsfTitle.privatePrefix;break;default:case"public":e="";}e!==d&&tsfTitle.updateStateFor(c,"prefixValue",e)},i=a=>{let b,c=document.getElementById("tsfLeTitleData["+a+"]");try{b=JSON.parse(c.dataset.leTitle)||void 0}catch(a){}if(!b)return;const d="autodescription-quick[doctitle]",e=document.getElementById("autodescription-quick[doctitle]");e.placeholder=tsf.escapeString(tsf.decodeEntities(b.placeholder.trim())),tsfTitle.setInputElement(e),tsfTitle.updateStateFor("autodescription-quick[doctitle]","allowReferenceChange",!b.refTitleLocked),tsfTitle.updateStateFor("autodescription-quick[doctitle]","defaultTitle",tsf.escapeString(tsf.decodeEntities(b.defaultTitle.trim()))),tsfTitle.updateStateFor("autodescription-quick[doctitle]","useTagline",b.useTagline),tsfTitle.updateStateFor("autodescription-quick[doctitle]","additionValue",tsf.escapeString(tsf.decodeEntities(b.additionValue.trim()))),tsfTitle.updateStateFor("autodescription-quick[doctitle]","additionPlacement",b.additionPlacement);let f=document.getElementById("edit-"+a);f&&(f.querySelectorAll("[name=post_password]").forEach(a=>{a.dataset.tsfTitleId=d,a.addEventListener("input",h),a.dispatchEvent(new CustomEvent("input"))}),f.querySelectorAll("[name=keep_private]").forEach(a=>{a.dataset.tsfTitleId=d,a.addEventListener("click",h),a.dispatchEvent(new CustomEvent("click"))})),tsfTT.triggerReset()},j=a=>{let b,c=document.getElementById("tsfLeDescriptionData["+a+"]");try{b=JSON.parse(c.dataset.leDescription)||void 0}catch(a){}if(!b)return;let d=document.getElementById("autodescription-quick[description]");d.placeholder=b.placeholder,tsfDescription.setInputElement(d),tsfDescription.updateStateFor("autodescription-quick[description]","allowReferenceChange",!b.refDescriptionLocked),tsfDescription.updateStateFor("autodescription-quick[description]","defaultDescription",tsf.escapeString(b.defaultDescription.trim())),tsfTT.triggerReset()},k=()=>{document.addEventListener("tsfLeDispatchUpdate",d),document.addEventListener("tsfLeUpdated",e)},l=()=>{let a;window.inlineEditPost&&(a="edit"in window.inlineEditPost&&window.inlineEditPost.edit,a&&(window.inlineEditPost.edit=function(b){let c=a.apply(this,arguments);return("object"==typeof b&&(b=window.inlineEditPost.getId(b)),!b)?c:(f(b),i(b),j(b),"tsfC"in window&&tsfC.resetCounterListener(),c)})),window.inlineEditTax&&(a="edit"in window.inlineEditTax&&window.inlineEditTax.edit,a&&(window.inlineEditTax.edit=function(b){let c=a.apply(this,arguments);return("object"==typeof b&&(b=window.inlineEditTax.getId(b)),!b)?c:(g(b),i(b),j(b),"tsfC"in window&&tsfC.resetCounterListener(),c)}))};return Object.assign({load:()=>{a(document.body).ready(k),a(document.body).ready(l)}},{},{l10n:b})}(jQuery),jQuery(window.tsfLe.load);
