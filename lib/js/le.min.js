'use strict';window.tsfLe=function(a){const b="undefined"!=typeof tsfLeL10n&&tsfLeL10n;let c;const d=()=>{clearTimeout(c),c=setTimeout(()=>{document.dispatchEvent(new Event("tsfLeUpdated"))},50)},e=()=>{tsfTT&&tsfTT.triggerReset()},f=a=>{let b,c=document.getElementById("tsfLeData["+a+"]");try{b=JSON.parse(c.dataset.le)||void 0}catch(a){}if(!b)return;let d;for(let c in b)if(d=document.getElementById("autodescription-quick[%s]".replace("%s",c)),d)if(b[c].isSelect){tsf.selectByValue(d,b[c].value);let a=d.querySelector("[value=\"0\"]");a&&(a.innerHTML=a.innerHTML.replace("%s",tsf.decodeEntities(b[c].default)))}else d.value=tsf.decodeEntities(b[c].value)},g=a=>f(a),h=a=>{let b=(a.originalEvent||a).target,c=b.dataset.tsfTitleId,d=tsfTitle.getStateOf(c,"prefixValue"),e="",f="public";switch(f="keep_private"===b.name?b.checked?"private":"public":b.value&&b.value.length?"password":"public",f){case"password":e=tsfTitle.protectedPrefix;break;case"private":e=tsfTitle.privatePrefix;break;default:case"public":e="";}e!==d&&tsfTitle.updateStateOf(c,"prefixValue",e)},i=a=>{let b=(a.originalEvent||a).target,c=b.dataset.tsfTitleId,d="string"==typeof b.value&&b.value.trim()||"",e=tsfTitle.stripTitleTags?tsf.stripTags(d):d,f=tsfTitle.getStateOf(c,"defaultTitle"),g="string"==typeof b.dataset.termPrefix&&b.dataset.termPrefix.trim()||"";e=e||tsfTitle.untitledTitle,g.length&&(tsf.l10n.states.isRTL?e=e+" "+g:e=g+" "+e),e=tsf.escapeString(tsf.decodeEntities(e.trim())),e!==f&&tsfTitle.updateStateOf(c,"defaultTitle",e)},j=a=>{let b,c=document.getElementById("tsfLeTitleData["+a+"]");try{b=JSON.parse(c.dataset.leTitle)||void 0}catch(a){}if(!b)return;const d="autodescription-quick[doctitle]",e=document.getElementById("autodescription-quick[doctitle]");tsfTitle.setInputElement(e),tsfTitle.updateStateOf("autodescription-quick[doctitle]","allowReferenceChange",!b.refTitleLocked),tsfTitle.updateStateOf("autodescription-quick[doctitle]","defaultTitle",b.defaultTitle.trim()),tsfTitle.updateStateOf("autodescription-quick[doctitle]","addAdditions",b.addAdditions),tsfTitle.updateStateOf("autodescription-quick[doctitle]","additionValue",b.additionValue.trim()),tsfTitle.updateStateOf("autodescription-quick[doctitle]","additionPlacement",b.additionPlacement);let f=document.getElementById("edit-"+a);f&&(f.querySelectorAll("[name=post_password]").forEach(a=>{a.dataset.tsfTitleId=d,a.addEventListener("input",h),a.dispatchEvent(new CustomEvent("input"))}),f.querySelectorAll("[name=keep_private]").forEach(a=>{a.dataset.tsfTitleId=d,a.addEventListener("click",h),a.dispatchEvent(new CustomEvent("click"))}),f.querySelectorAll("[name=post_title]").forEach(a=>{a.dataset.tsfTitleId=d,a.addEventListener("input",i),a.dispatchEvent(new CustomEvent("input"))}),f.querySelectorAll("[name=name]").forEach(a=>{a.dataset.tsfTitleId=d,a.dataset.termPrefix=b.termPrefix||"",a.addEventListener("input",i),a.dispatchEvent(new CustomEvent("input"))})),tsfTT.triggerReset()},k=a=>{let b,c=document.getElementById("tsfLeDescriptionData["+a+"]");try{b=JSON.parse(c.dataset.leDescription)||void 0}catch(a){}if(!b)return;let d=document.getElementById("autodescription-quick[description]");tsfDescription.setInputElement(d),tsfDescription.updateStateOf("autodescription-quick[description]","allowReferenceChange",!b.refDescriptionLocked),tsfDescription.updateStateOf("autodescription-quick[description]","defaultDescription",b.defaultDescription.trim()),tsfTT.triggerReset()},l=()=>{document.addEventListener("tsfLeDispatchUpdate",d),document.addEventListener("tsfLeUpdated",e)},m=()=>{let a;window.inlineEditPost&&(a="edit"in window.inlineEditPost&&window.inlineEditPost.edit,a&&(window.inlineEditPost.edit=function(b){let c=a.apply(this,arguments);return("object"==typeof b&&(b=window.inlineEditPost.getId(b)),!b)?c:(f(b),j(b),k(b),"tsfC"in window&&tsfC.resetCounterListener(),c)})),window.inlineEditTax&&(a="edit"in window.inlineEditTax&&window.inlineEditTax.edit,a&&(window.inlineEditTax.edit=function(b){let c=a.apply(this,arguments);return("object"==typeof b&&(b=window.inlineEditTax.getId(b)),!b)?c:(g(b),j(b),k(b),"tsfC"in window&&tsfC.resetCounterListener(),c)}))};return Object.assign({load:()=>{a(document.body).ready(l),a(document.body).ready(m)}},{},{l10n:b})}(jQuery),jQuery(window.tsfLe.load);
