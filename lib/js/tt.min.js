'use strict';window.tsfTT=function(a){const b=()=>{let b=0,f=!1,g=!1;try{let a=Object.defineProperty({},"passive",{get:()=>{g=!0}});window.addEventListener("tsf-tt-test-passive",a,a).removeEventListener("tsf-tt-test-passive",a,a)}catch(a){}const h=()=>{f=!0,clearTimeout(b),b=setTimeout(()=>{f=!1},250)},i=(b,c)=>{c=c||!1;let d=a(b);c?(d.off("mousemove.tsfTT mouseleave.tsfTT mouseout.tsfTT"),a(document.body).off("pointerdown.tsfTT touchstart.tsfTT click.tsfTT")):(d.on({"mousemove.tsfTT":n,"mouseleave.tsfTT":o,"mouseout.tsfTT":o}),a(document.body).off("pointerdown.tsfTT touchstart.tsfTT click.tsfTT").on("pointerdown.tsfTT touchstart.tsfTT click.tsfTT",p)),d.off("tsf-tooltip-update").on("tsf-tooltip-update",k)},j=a=>{i(a,!0)},k=b=>{if(b.target.classList.contains("tsf-tooltip-item")){let c=b.target.querySelector(".tsf-tooltip-text");c instanceof Element&&(c.innerHTML=b.target.dataset.desc,a(b.target).trigger("mousemove.tsfTT"))}},l=a=>{let b=a.target.dataset.desc||a.target.title||"";b&&0===a.target.getElementsByClassName("tsf-tooltip").length&&(a.target.dataset.desc=b,a.target.title="",c(a,a.target,b))};let m=NaN;const n=b=>{var c=Math.round;let d=a(b.target),e=d.find(".tsf-tooltip"),f=e.find(".tsf-tooltip-arrow"),g=b.originalEvent&&b.originalEvent.pageX||b.pageX;g=isNaN(g)?m:g,m=g;let h=d.closest(".tsf-tooltip-wrap");h.length||(h=$hoverItem.parent());let i=g-h.offset().left-8,j=e.find(".tsf-tooltip-text-wrap"),k=j.outerWidth(!0),l=e.data("adjust"),n=k-16-7;if(l=parseInt(l,10),l=isNaN(l)?0:c(l),l&&(i-=l,n+l>h.outerWidth(!0))){let a=j.find(".tsf-tooltip-text"),b=a.outerWidth(!0);n=b-16-7}7>=i?f.css("left","7px"):i>=n?f.css("left",n+"px"):f.css("left",i+"px")},o=a=>{f||(e(a.target),j(a.target))},p=b=>{h();let c,d=a(b.target);if(d.hasClass("tsf-tooltip-item")&&(c=d.find(".tsf-tooltip")),!c){let a=d.children(".tsf-tooltip-item");a.length&&(c=a.find(".tsf-tooltip"))}c&&c.length?a(".tsf-tooltip").not(c).remove():a(".tsf-tooltip").remove()},q=a=>{if(f)return;let b=!1;switch(a.type){case"mouseenter":break;case"pointerdown":case"touchstart":b=!0;break;default:}b&&p(a),l(a),n(a),i(a.target)},r=a=>{a.target.classList.contains("tsf-tooltip-item")&&q(a),a.stopPropagation()},s=()=>{let a=document.querySelectorAll(".tsf-tooltip-wrap"),b=!g||{capture:!0,passive:!0};for(let c=0;c<a.length;c++)["mouseenter","pointerdown","touchstart"].forEach(d=>{a[c].removeEventListener(d,r,b),a[c].addEventListener(d,r,b)})};s(),a(window).on("tsf-tooltip-reset",s),d("#wpcontent")},c=(b,c,d)=>{var f=Math.min;let g=a(c);if(g.find(".tsf-tooltip").length&&e(c),!d.length)return;let h=a(`<div class="tsf-tooltip"><span class="tsf-tooltip-text-wrap"><span class="tsf-tooltip-text">${d}</span></span><div class="tsf-tooltip-arrow"></div></div>`);g.append(h);let i=g.closest(".tsf-tooltip-boundary");i=i.length&&i||a(document.body);let j=g.outerHeight()+8,k=h.offset().top-j,l=i.offset().top-(i.prop("scrolltop")||0),m=i.outerWidth(),n=12;l>k?(h.addClass("tsf-tooltip-down"),h.css("top",j+"px")):h.css("bottom",j+"px");let o=g.closest(".tsf-tooltip-wrap");o.length||(o=g.parent());let p=h.find(".tsf-tooltip-text-wrap"),q=p.find(".tsf-tooltip-text"),r=o.width();250<p.width()&&250>r&&150<r&&p.css("flex-basis",r+"px"),p.outerWidth()>m-n/2?(p.css("flex-basis",f(250,m-n)+"px"),n/=2):250<p.width()&&p.css("flex-basis","250px");let s=i.offset().left-(i.prop("scrollLeft")||0),t=s+m,u=p.outerWidth(),v=q.outerWidth(),w=p.offset().left,x=w+u,y="left",z=NaN;if(w<s)z=s-w+12;else if(x>t)z=t-w-u-12;else if(42>r)z=2*-r+r/2;else if(b&&1>a(b.target).find(h).length)z=0;else if(b&&r>u){let a=b.originalEvent&&b.originalEvent.pageX||b.pageX,c=o.offset().left,d=a-c-u/2;z=d,0>d?z=0:d+u>r&&(z=r-u)}if(z+w<s+n){let a=z+w-(s+n);z-=a}if(z+x>t+n){let a=z+x-(t+n);z-=a}if(z+w<s&&(z=0),!isNaN(z)){let a=parseInt(p.css("flex-basis"),10);z<-a&&(z=-a),h.css(y,z+"px"),h.data("adjust",z),h.data("adjustDir",y)}},d=b=>{a(b).addClass("tsf-tooltip-boundary")},e=a=>{f(a).remove()},f=b=>a(b).find(".tsf-tooltip").first();return Object.assign({load:()=>{a(document.body).ready(b)}},{doTooltip:c,removeTooltip:e,getTooltip:f,addBoundary:d,triggerReset:()=>{a(window).trigger("tsf-tooltip-reset")},triggerUpdate:b=>{a(b||".tsf-tooltip-item").trigger("tsf-tooltip-update")}})}(jQuery),jQuery(window.tsfTT.load);
